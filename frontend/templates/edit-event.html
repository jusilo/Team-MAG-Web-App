<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Event</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/edit-event.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h2>Edit Event</h2>
            <a href="{{ url_for('events.home_page') }}"><button class="back-btn">Go Back</button></a>
        </header>
        
        <!-- Form for editing the event -->
        <form method="POST" action="{{ url_for('edit-events.editevent', event_id=event.event_id) }}">
            <!-- Hidden field to track action (either 'save' or 'cancel') -->
            <input type="hidden" name="action" id="action" value="save">
            
            <!-- Left Section - Event Details -->
            <div class="event-details">
                <div class="image-container">
                    <!-- Add image logic here if necessary -->
                    <img src="{{ url_for('static', filename='Files/image1.jpg') }}" alt="Event Image" width="100%">
                </div>
                <div class="description-title">Description</div>
                <div class="description-box">
                    <!-- Event Name Field -->
                    <input type="text" name="event_name" value="{{ event.event_name }}" required>

                    <!-- Event Description Field -->
                    <textarea name="event_description" required>{{ event.event_description }}</textarea>

                    <!-- Event Location Field -->
                    <input type="text" name="location" value="{{ event.location }}" required>

                    <!-- Event Day Field -->
                    <input type="date" name="event_day" value="{{ event.event_day.strftime('%Y-%m-%d') }}" required>

                    <!-- Submit Button -->
                    <button type="submit" class="edit-btn" onclick="setAction('save')">Save Changes</button>
                    
                    <!-- Cancel Button -->
                    <button type="submit" class="cancel-btn" onclick="setAction('cancel')">Cancel</button>
                </div>
            </div>
        </form>
    </div>

    <!-- JavaScript to handle the action change based on the button clicked -->
    <script>
        function setAction(action) {
            document.getElementById('action').value = action;
        }
    </script>
</body>
</html>
